<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Power BI Embedded Demo</title>
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script type="text/javascript" language="javascript" src="https://rawgit.com/Microsoft/PowerBI-JavaScript/master/dist/powerbi.min.js"></script> </script>
</head>

<body>
    <h1>Power BI Embedded Demo</h1>
    <div id="reportContainer" style="width: 80%; height: 600px;"></div>
</body>

<script>
    $(document).ready(function () {
        var getEmbedToken = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InE3UDFOdnh1R1F3RE4yVGFpTW92alo4YVp3cyIsImtpZCI6InE3UDFOdnh1R1F3RE4yVGFpTW92alo4YVp3cyJ9.eyJhdWQiOiJodHRwczovL2FuYWx5c2lzLndpbmRvd3MubmV0L3Bvd2VyYmkvYXBpIiwiaXNzIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvYWI1NzBjMTItOTQ4OS00Mzk5LWFjMTctMjQ1ZmIyYzM4NGVjLyIsImlhdCI6MTcxODg4NDA1MiwibmJmIjoxNzE4ODg0MDUyLCJleHAiOjE3MTg4ODgwNDgsImFjY3QiOjAsImFjciI6IjEiLCJhaW8iOiJFMmRnWVBqWHNQaWwrTmxLNzZKc1grMmU0eEwzR25rYnVTcXR6Q1UrY1JpYmhvbnAzRXVQeWYzaS8rcnVKaDk3QTg3NjQwRUJBQT09IiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6Ijg3MWMwMTBmLTVlNjEtNGZiMS04M2FjLTk4NjEwYTdlOTExMCIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoi0JTQvNC40YLRgNC40LkiLCJnaXZlbl9uYW1lIjoi0JXQu9Cw0L3RhtC10LIiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIyMTIuMTMuMTU4LjIxOCIsIm5hbWUiOiLQldC70LDQvdGG0LXQsiDQlNC80LjRgtGA0LjQuSIsIm9pZCI6IjU4MGRkZDM0LWE5NDAtNDFiYy1hNTM5LTA0NmRhYjA5OTJmNyIsInB1aWQiOiIxMDAzMjAwMjZENDE4N0JCIiwicmgiOiIwLkFVc0FFZ3hYcTRtVW1VT3NGeVJmc3NPRTdBa0FBQUFBQUFBQXdBQUFBQUFBQUFBWkFkay4iLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzdWIiOiJ4UFZXZ2V6X2xlb21SOG16cVRfTHF4SXZnNVhCclJMNVJZMDJkNWxwcUNFIiwidGlkIjoiYWI1NzBjMTItOTQ4OS00Mzk5LWFjMTctMjQ1ZmIyYzM4NGVjIiwidW5pcXVlX25hbWUiOiJlbGFudHNldi5kQGVzaWwuZWR1Lmt6IiwidXBuIjoiZWxhbnRzZXYuZEBlc2lsLmVkdS5reiIsInV0aSI6Ilc2Y3Z0bHZQdlVheWpGdWRaODRtQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbIjYyZTkwMzk0LTY5ZjUtNDIzNy05MTkwLTAxMjE3NzE0NWUxMCIsImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfaWRyZWwiOiIyIDEiLCJ4bXNfcGwiOiJydS1SVSJ9.ilpbDXDDPVXls4r3LC-5GZSLNMcscl7mKlx6YYIwNB3fodKMa-4zuesgzxn54j84iPr5V_PnaYV6dhKIn0DPlC6chGC5XlHuow5HFxedzHbBZ9WN3qTVcXybMcxJ8_ZV4SmB-6t_qovyPYDV8eQowLfCCShLuoiraBamBAjC-hFHrRQG6YZxXlppsGuRmJCXJRG3fkRoXZ0NGICZKo8AhCzSa4iA6nmmQhOfPIQudk4zeQh2Iqx9b3sW7YjDRoql6jS3Y4m8lfO9PK3k-SJSUoRw1Dga1ZWgHnCTqydjen_iJsDQSNwoTlde7BUeZ7jBuJ9R1Jgv9WoGJh9jY4RaEw";
        $.ajax({
            url: getEmbedToken,
            jsonpCallback: 'callback',
            contentType: 'application/javascript',
            dataType: "jsonp",
            success: function (json) {

                var models = window['powerbi-client'].models;

                var embedConfiguration = {
                    type: 'report',
                    id: json.ReportId,
                    embedUrl: json.EmbedUrl,
                    tokenType: models.TokenType.Embed,
                    accessToken: json.EmbedToken
                };

                var $reportContainer = $('#reportContainer');
                var report = powerbi.embed($reportContainer.get(0), embedConfiguration);


            },
            error: function () {
                alert("Error");
            }
        });

    });
</script>

</html>